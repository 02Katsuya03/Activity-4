{% extends 'app/school.html' %}

{% block content %}
  <form method="POST" enctype="multipart/form-data" class="form-container">
    {% csrf_token %}
    <div class="form-group">
      <label for="id_name">Name:</label>
      <input type="text" name="name" maxlength="100" required="" id="id_name" />
    </div>

    <div class="form-group">
      <label for="id_address">Address:</label>
      <input type="text" name="address" maxlength="255" id="id_address" />
    </div>

    <div class="form-group">
      <label for="id_contact_number">Contact Number:</label>
      <input type="text" name="contact_number" maxlength="15" id="id_contact_number" />
    </div>

    <div class="form-group">
      <label for="id_school_type">School Type:</label>
      {{ form.school_type }}
    </div>

    <div class="form-group">
      <label for="id_school_level">School Level:</label>
      {{ form.school_level }}
    </div>

    <div class="form-group">
      <label for="id_logo">Logo (optional):</label>
      {{ form.logo }}
      <div id="logo-preview-container" class="preview-container">
        <img id="logo-preview" src="#" alt="Logo Preview" style="display:none; max-width: 200px;" />
      </div>
    </div>

    <div class="form-group">
      <label for="id_school_picture">School Picture (optional):</label>
      {{ form.school_picture }}
      <div id="school-picture-preview-container" class="preview-container">
        <img id="school-picture-preview" src="#" alt="School Picture Preview" style="display:none; max-width: 600px;" />
      </div>
    </div>

    <div class="form-group">
      <button type="submit" class="save-button">Submit</button>
    </div>
  </form>

  <script>
    // Preview Logo image
    document.getElementById('id_logo').addEventListener('change', function (e) {
      const file = e.target.files[0]
      const reader = new FileReader()
    
      reader.onload = function () {
        const preview = document.getElementById('logo-preview') // Match the ID here
        preview.src = reader.result
        preview.style.display = 'block'
      }
    
      if (file) {
        reader.readAsDataURL(file)
      }
    })
    
    // Preview School Picture image
    document.getElementById('id_school_picture').addEventListener('change', function (e) {
      const file = e.target.files[0]
      const reader = new FileReader()
    
      reader.onload = function () {
        const preview = document.getElementById('school-picture-preview') // Match the ID here
        preview.src = reader.result
        preview.style.display = 'block'
      }
    
      if (file) {
        reader.readAsDataURL(file)
      }
    })
  </script>
{% endblock %}
